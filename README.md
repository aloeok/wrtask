## Тестовое задание в ВебРайз
Автор: Александр Лоенко

## Описание
Приложение, предоставляющее простой REST-интерфейс для хранения информации
о пользователях, сервисах и подписок пользователей на сервисы.
- Реализовано на Java 17, с использованием Spring Boot 3
- Для хранения данных используется Postgres 17 в docker-контейнере
- Инициализация БД реализована через liquibase
- Работа с данными производится через Hibernate, через стандартные методы JPA-репозиториев, существенных оптимизаций запросов не реализовывалось
- Реализована минимальная проверка пользовательских данных и обработчик общих исключений
- Логгирование - через Slf4j в стандартный поток вывода, запись логов в файл не настроена

Краткое описание REST-эндпоинтов:

`POST /users` - добавление нового пользователя

`GET /users` - получение всех пользователей (добавлено в демонстрационных целях,
не поддерживает пагинацию)

`GET /users/{id}` - получение пользователя с заданным id

`PUT /users/{id}` - изменение данных пользователя

`DELETE /users/{id}` - удаление пользователя

`POST /subscriptions` - добавление подписки

`GET /subscriptions` - получение всех доступных подписок (добавлено в демонстрационных целях,
не поддерживает пагинацию)

`DELETE /subscriptions/{id}` - удаление подписки

`POST /users/{id}/subscriptions/{sub_id}` - добавление подписки пользователю

`GET /users/{id}/subscriptions` - получение всех подписок пользователя

`DELETE /users/{id}/subscriptions/{sub_id}` - удаление подписки пользователя

`GET /subscriptions/top` - получение топ-3 популярных подписок

## Требования
Наличие jdk 17, maven, docker

## Сборка и запуск
```shell
mvn clean install
```
сборка `.jar`-файла, запуск из корневой директории проекта

```shell
docker build -t wrtask:test .
```
сборка образа приложения, запуск из корневой директории проекта, предполагается, что
`.jar`-файл находится в `/target/wrtask-1.0-SNAPSHOT.jar` относительно корневой директории проекта

```shell
docker compose up
```
запуск приложения, из директории `/deploy`

## Демонстрация
Для демонстрации работы большей части API создана html-страница `demo.html`. Можно открыть
в браузере как файл на той же машине, где запущены основные контейнеры.

Для простоты демонстрации в Spring-приложении была изменена конфигурация CORS.
